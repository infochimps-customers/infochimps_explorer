- expand_referenced_types ||= false
.record{ :id => "type-#{record.name}" }
  
  %p.description
    = textilize(record.doc)

  %ul.fields
    - record.fields.each do |field|
      %li
        %p== #{h field.name} (<code>#{reference_to_type(field.type)}</code>)
        .doc= textilize(field.doc)
        %blockquote.fields
          - if ((expand_referenced_types) || (! field.is_reference?))
            -if field.record?
              = render_partial :partial => 'icss_record', :locals => { :record => field.type }

              
-# Note: this partial is SHARED between george and apey_eye. Please DO NOT
-# introduce any coupling between these partials and the rest of george, and be
-# VERY CONSERVATIVE in your use of rails view helpers.
-# 
-# The true canonical version of this file is the one that lives in george. The
-# apey_eye team has responsibility to pull upstream changes, the george team
-# has the responsibility to make these straightforward.
-#
-# If this request conflicts with being effective, then a) be effective, b) talk
-# to flip so he can help find a workaround
-#    
-# To airlift this into apeyeye: change all occurences of 'render' with 'render_partial'
-# (and vice versa in george)
